<p id="notice"><%= notice %></p>

<% @user_email = current_user.email %>
<% @username = @user_email.split('@')[0] %>
<h1>Posts of <%= @username %></h1>
<div class="ui info message">
  <div class="header">
    Features:
  </div>
  <ul class="list">
    <li>Posts of the current user are displayed from the latest to the oldest</li>
    <li>The current user can create, read, update, delete own posts</li>
  </ul>
</div>

<table class="ui sortable celled table">
  <thead>
    <tr>
      <th>Title</th>
      <th>Body</th>
      <th colspan="3"> Actions </th>
    </tr>
  </thead>

  <tbody>
    <% @posts.each do |post| %>
      <tr>
        <td><%= post.title %></td>
        <td><%= post.body.truncate_words(5) %></td>
        <td class="positive"><%= link_to semantic_icon('file') + 'Show', post %></td>
        <td class="warning"><%= link_to semantic_icon('edit') + 'Edit', edit_post_path(post) %></td>
        <td class="negative"><%= link_to semantic_icon('trash') + 'Delete', post, method: :delete, data: { confirm: 'Are you sure?' } %></td>
      </tr>
    <% end %>
  </tbody>
</table>

<br>

<button class="ui button">
  <%= link_to semantic_icon('add') + 'New Post', new_post_path %>
</button>


